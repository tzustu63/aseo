# SEO 網頁分析規格

## ADDED Requirements

### Requirement: 網址輸入與驗證
系統必須提供網址輸入介面，並驗證網址格式的有效性。

#### Scenario: 使用者輸入有效網址
- **當** 使用者在輸入框輸入 "https://example.com"
- **當** 使用者點擊「開始分析」按鈕
- **則** 系統接受網址並開始分析流程

#### Scenario: 使用者輸入無效網址
- **當** 使用者輸入 "not-a-url"
- **當** 使用者點擊「開始分析」按鈕
- **則** 系統顯示錯誤訊息「請輸入有效的網址格式」
- **則** 不執行分析

#### Scenario: 使用者輸入沒有協議的網址
- **當** 使用者輸入 "example.com"（沒有 https://）
- **則** 系統自動補上 "https://" 前綴
- **則** 使用 "https://example.com" 進行分析

### Requirement: 網頁內容抓取
系統必須能夠抓取目標網頁的 HTML 內容。

#### Scenario: 成功抓取網頁
- **當** 使用者輸入可存取的網址
- **則** 系統在 10 秒內成功下載網頁 HTML
- **則** 系統開始執行 SEO 分析

#### Scenario: 網頁無法存取
- **當** 使用者輸入的網址無法連線（404、500 等）
- **則** 系統顯示錯誤訊息「無法存取此網頁，請確認網址是否正確」
- **則** 顯示 HTTP 狀態碼資訊

#### Scenario: 網頁抓取超時
- **當** 網頁載入超過 10 秒
- **則** 系統中斷請求並顯示「網頁載入超時」訊息
- **則** 建議使用者稍後再試

### Requirement: Title 標籤分析
系統必須檢查網頁的 title 標籤並評估其 SEO 品質。

#### Scenario: 檢查 title 標籤存在性
- **當** 分析網頁 HTML
- **當** 網頁缺少 `<title>` 標籤
- **則** 標記為「嚴重」問題
- **則** 建議「在 <head> 中加入 <title> 標籤」

#### Scenario: 檢查 title 長度
- **當** title 標籤內容少於 30 字元
- **則** 標記為「重要」問題
- **則** 建議「標題太短，建議使用 50-60 字元的描述性標題」

#### Scenario: title 長度適當
- **當** title 長度在 50-60 字元之間
- **則** 此項檢查通過，不產生問題
- **則** title 分析得分為 100 分

### Requirement: Meta Description 分析
系統必須檢查 meta description 標籤的存在和品質。

#### Scenario: 檢查 meta description 存在性
- **當** 網頁缺少 `<meta name="description">` 標籤
- **則** 標記為「嚴重」問題
- **則** 建議「加入 meta description 來改善搜尋結果顯示」
- **則** 提供範例程式碼

#### Scenario: 檢查 description 長度
- **當** meta description 長度少於 120 字元
- **則** 標記為「中等」問題
- **則** 建議「描述太短，建議使用 150-160 字元」

#### Scenario: description 長度適當
- **當** description 長度在 150-160 字元之間
- **則** 此項檢查通過
- **則** meta description 得分為 100 分

### Requirement: 標題結構分析
系統必須檢查網頁的標題標籤（H1-H6）結構和階層。

#### Scenario: 檢查 H1 標籤存在性
- **當** 網頁沒有 H1 標籤
- **則** 標記為「嚴重」問題
- **則** 建議「每個頁面應該有一個且僅有一個 H1 標籤」

#### Scenario: 檢查多個 H1 標籤
- **當** 網頁有 2 個或更多 H1 標籤
- **則** 標記為「重要」問題
- **則** 建議「只保留一個 H1，其他改為 H2-H6」

#### Scenario: 檢查標題階層順序
- **當** 網頁出現 H1 → H3（跳過 H2）的情況
- **則** 標記為「中等」問題
- **則** 建議「標題應該按順序使用（H1→H2→H3）」

#### Scenario: 標題結構良好
- **當** 網頁有一個 H1，且標題階層正確
- **則** 標題結構檢查通過
- **則** 得分為 100 分

### Requirement: 圖片優化分析
系統必須檢查網頁中所有圖片的 SEO 優化狀況。

#### Scenario: 檢查圖片 alt 屬性
- **當** 發現圖片沒有 alt 屬性
- **則** 標記為「重要」問題
- **則** 建議「為所有圖片加入描述性的 alt 文字」
- **則** 列出缺少 alt 的圖片 URL

#### Scenario: 檢查 alt 文字品質
- **當** 圖片有 alt 屬性但內容為空或無意義（如 "image", "img"）
- **則** 標記為「中等」問題
- **則** 建議「使用描述性的 alt 文字，說明圖片內容」

#### Scenario: 所有圖片都有適當 alt
- **當** 所有圖片都有非空的 alt 屬性
- **則** 圖片優化檢查通過
- **則** 得分為 100 分

### Requirement: 關鍵字分析
系統必須分析網頁的關鍵字使用情況。

#### Scenario: 提取主要關鍵字
- **當** 分析網頁內容
- **則** 系統提取出現頻率最高的 10 個關鍵字
- **則** 計算每個關鍵字的出現次數和密度

#### Scenario: 檢查關鍵字過度優化
- **當** 某個關鍵字密度超過 3%
- **則** 標記為「警告」
- **則** 建議「關鍵字密度過高可能被視為關鍵字填充，建議降低到 1-2%」

#### Scenario: 檢查關鍵字在重要位置
- **當** 主要關鍵字沒有出現在 title 或 H1 中
- **則** 標記為「重要」問題
- **則** 建議「在 title 和 H1 中包含主要關鍵字」

### Requirement: HTML 結構分析
系統必須檢查網頁的 HTML 結構和語意化標籤使用。

#### Scenario: 檢查語意化標籤
- **當** 網頁缺少 `<header>`, `<main>`, `<footer>` 等語意標籤
- **則** 標記為「建議」等級
- **則** 建議「使用 HTML5 語意標籤改善頁面結構」

#### Scenario: 檢查 lang 屬性
- **當** `<html>` 標籤缺少 lang 屬性
- **則** 標記為「中等」問題
- **則** 建議「加入 <html lang="zh-TW"> 指定頁面語言」

### Requirement: SEO 分數計算
系統必須根據所有分析結果計算出整體 SEO 健康度分數。

#### Scenario: 計算加權總分
- **當** 所有分析器完成檢查
- **則** 系統根據各項目的權重計算總分（0-100）
- **則** 顯示總分和等級（優秀/良好/普通/待改善/需大幅優化）

#### Scenario: 顯示各類別分數
- **當** 顯示分析結果
- **則** 系統顯示每個類別的個別分數
- **則** 標示哪些類別需要改善

#### Scenario: 分數解釋
- **當** 總分為 85 分
- **則** 系統顯示「良好 ⭐⭐⭐⭐」
- **則** 提供「您的網頁 SEO 狀況良好，還有一些小地方可以優化」等說明

### Requirement: 優化建議產生
系統必須為每個發現的問題提供具體的優化建議。

#### Scenario: 提供程式碼範例
- **當** 發現缺少 meta description
- **則** 建議中包含具體的 HTML 程式碼範例
- **則** 範例格式正確且可直接使用

#### Scenario: 標示優先順序
- **當** 產生優化建議清單
- **則** 每個建議都標示優先順序（P0/P1/P2）
- **則** 優先順序高的建議排在前面

#### Scenario: 估計改善影響
- **當** 顯示建議
- **則** 每個建議標示預期的 SEO 分數提升幅度
- **則** 標示實作難度（簡單/中等/困難）

### Requirement: 分析結果顯示
系統必須以清楚易懂的方式顯示分析結果。

#### Scenario: 顯示問題摘要
- **當** 分析完成
- **則** 先顯示問題數量統計（嚴重 X 個、重要 Y 個、中等 Z 個）
- **則** 顯示 SEO 總分和等級

#### Scenario: 問題分類顯示
- **當** 顯示問題清單
- **則** 問題依嚴重性分類（嚴重→重要→中等→建議）
- **則** 每個問題都有清楚的標題和說明

#### Scenario: 視覺化呈現
- **當** 顯示結果
- **則** 使用顏色區分嚴重性（紅色=嚴重、黃色=警告、綠色=良好）
- **則** 使用圖示或標籤讓資訊更容易理解

### Requirement: 載入狀態處理
系統必須在分析過程中顯示適當的載入狀態。

#### Scenario: 顯示分析進度
- **當** 使用者提交網址後
- **則** 顯示「分析中，請稍候...」訊息
- **則** 隱藏輸入表單，避免重複提交

#### Scenario: 分析完成後恢復
- **當** 分析完成並顯示結果
- **則** 輸入框重新啟用
- **則** 使用者可以輸入新的網址進行分析

### Requirement: 錯誤處理
系統必須妥善處理各種錯誤情況並提供友善的錯誤訊息。

#### Scenario: 網路連線錯誤
- **當** 無法連線到目標網址
- **則** 顯示「無法連線到此網站」錯誤訊息
- **則** 建議使用者檢查網址或網路連線

#### Scenario: 網頁受保護
- **當** 目標網站阻擋爬蟲請求
- **則** 顯示「此網站不允許分析」訊息
- **則** 說明可能的原因（robots.txt、防爬機制等）

#### Scenario: 伺服器錯誤
- **當** 分析過程中發生伺服器錯誤
- **則** 顯示「分析失敗，請稍後再試」訊息
- **則** 記錄錯誤細節到主控台（供除錯）

### Requirement: Open Graph 標籤檢查
系統必須檢查 Open Graph meta 標籤的完整性。

#### Scenario: 檢查基本 OG 標籤
- **當** 分析網頁的 meta 標籤
- **當** 缺少 og:title、og:description 或 og:image
- **則** 標記為「中等」問題
- **則** 建議「加入 Open Graph 標籤改善社群媒體分享效果」

#### Scenario: OG 標籤完整
- **當** 網頁包含完整的 OG 標籤（title, description, image, url）
- **則** OG 標籤檢查通過
- **則** 此項得分為 100 分

### Requirement: 行動裝置友善度檢查
系統必須檢查網頁的行動裝置友善度。

#### Scenario: 檢查 viewport meta 標籤
- **當** 網頁缺少 `<meta name="viewport">` 標籤
- **則** 標記為「重要」問題
- **則** 建議「加入 viewport meta 標籤：<meta name="viewport" content="width=device-width, initial-scale=1">」

#### Scenario: viewport 設定正確
- **當** 網頁包含正確的 viewport 設定
- **則** 行動裝置友善度檢查通過

### Requirement: 效能指標評估
系統必須評估影響 SEO 的效能指標。

#### Scenario: 評估 HTML 檔案大小
- **當** HTML 檔案大小超過 100KB
- **則** 標記為「建議」等級
- **則** 建議「考慮壓縮 HTML 或移除不必要的內容」

#### Scenario: 統計外部資源數量
- **當** 網頁引用超過 20 個外部資源（CSS、JS、圖片等）
- **則** 標記為「中等」問題
- **則** 建議「減少外部資源數量或使用資源合併技術」

### Requirement: 結果匯出功能
系統必須允許使用者匯出分析結果。

#### Scenario: 匯出為 JSON 格式
- **當** 使用者點擊「匯出結果」按鈕
- **則** 系統產生包含完整分析資料的 JSON 檔案
- **則** 自動下載檔案到使用者電腦

#### Scenario: JSON 包含完整資訊
- **當** 匯出 JSON
- **則** 檔案包含：網址、分數、所有問題、所有建議、分析時間
- **則** JSON 格式正確且易於程式讀取

